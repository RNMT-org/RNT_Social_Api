<entity>
    <name>OrderItem</name>
    <generate>true</generate>
    <fields>
        <field>
            <name>quantity</name>
            <type>INTEGER</type>
            <required>true</required>
            <positive>true</positive>
            <min>1</min>
        </field>

        <field>
            <name>unitPrice</name>
            <type>BIG_DECIMAL</type>
            <required>true</required>
            <precision>10</precision>
            <scale>2</scale>
            <positive>true</positive>
        </field>

        <field>
            <name>discount</name>
            <type>BIG_DECIMAL</type>
            <precision>10</precision>
            <scale>2</scale>
            <positiveOrZero>true</positiveOrZero>
            <defaultValue>0.00</defaultValue>
        </field>

        <field>
            <name>totalPrice</name>
            <type>BIG_DECIMAL</type>
            <required>true</required>
            <precision>12</precision>
            <scale>2</scale>
            <positiveOrZero>true</positiveOrZero>
        </field>
    </fields>

    <relationships>
        <relationship>
            <relationshipType>MANY_TO_ONE</relationshipType>
            <relatedEntityName>Order</relatedEntityName>
            <name>order</name>
            <required>true</required>
            <cascade>PERSIST,MERGE</cascade>
            <fetch>LAZY</fetch>
        </relationship>

        <relationship>
            <relationshipType>MANY_TO_ONE</relationshipType>
            <relatedEntityName>Product</relatedEntityName>
            <name>product</name>
            <required>true</required>
            <cascade>PERSIST,MERGE</cascade>
            <fetch>EAGER</fetch>
        </relationship>
    </relationships>
</entity>
