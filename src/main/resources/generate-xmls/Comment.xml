<entity>
    <name>Comment</name>
    <generate>true</generate>
    <fields>
        <field>
            <name>content</name>
            <type>STRING</type>
            <required>true</required>
            <notBlank>true</notBlank>
            <minLength>1</minLength>
            <maxLength>1000</maxLength>
            <length>1000</length>
            <searchable>true</searchable>
        </field>

        <field>
            <name>rating</name>
            <type>INTEGER</type>
            <min>1</min>
            <max>5</max>
        </field>

        <field>
            <name>approved</name>
            <type>BOOLEAN</type>
            <defaultValue>false</defaultValue>
        </field>

        <field>
            <name>ipAddress</name>
            <type>STRING</type>
            <maxLength>45</maxLength>
        </field>
    </fields>

    <relationships>
        <relationship>
            <relationshipType>MANY_TO_ONE</relationshipType>
            <relatedEntityName>Post</relatedEntityName>
            <name>post</name>
            <required>true</required>
            <cascade>PERSIST,MERGE</cascade>
            <fetch>LAZY</fetch>
        </relationship>

        <relationship>
            <relationshipType>MANY_TO_ONE</relationshipType>
            <relatedEntityName>Person</relatedEntityName>
            <name>author</name>
            <required>true</required>
            <cascade>PERSIST,MERGE</cascade>
            <fetch>EAGER</fetch>
        </relationship>
    </relationships>
</entity>
